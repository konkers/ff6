language: rust
rust:
  - stable
  - beta
  - nightly
script:
  - cargo build --verbose --all
  - cargo test --verbose --all
# - rustup install nightly
# - cargo +nightly install --force rustfmt-nightly
  - rustup component add rustfmt-preview
  - cargo fmt --all -- --check
matrix:
  fast_finish: true
#  include:
#  - rust: nightly
#    script:
#    - cargo build --verbose --all
#    - cargo test --verbose --all
#    - rustup component add rustfmt-preview
#    - cargo fmt --all -- --check